on:
  pull_request_target:
    branches: [ main ]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "hi!"
          echo "${{ github.event.comment.author_associator }}"
          echo "${{ github.event.pusher }}"
    if: |
      github.event.issue.pull_request
      && contains(fromJson('["OWNER", "MEMBER"'), github.event.comment.author_association)
      || (
        startsWith(github.event.comment.body, '/rerun')
        && contains(fromJson('["OWNER", "MEMBER"]'), github.event.comment.author_association)
      )